@use "v2/core";
@use "v2/constants";
@use "v2/components/card";
@use "v2/components/links";
@use "v2/objects/button";

.main-index {
  @include core.grid {
    gap: var(--space-2x);
    grid-template-columns: 1fr;
    grid-template-areas:
      "motd"
      "quick-links"
      "main-feed";
  }

  .quick-links {
    @extend %link-buttons;
    @extend %scroll-inline;

    flex-wrap: nowrap;
    grid-area: quick-links;
  }

  #github_recent {
    grid-area: github;
  }

  main {
    @extend %center;

    grid-area: main-feed;
  }

  #motd {
    @extend %card;
    @extend %card-content;
    @extend %center;
    @extend %surface-vibrant;
    @extend %margin-large-block;
    @extend %readable-text;

    grid-area: motd;
  }

  @media (min-width: constants.$readable-text-width) {
    .quick-links {
      justify-content: center;
    }
  }

  &[data-page="1"] {
    grid-template-areas:
      "motd"
      "quick-links"
      "github"
      "main-feed";

    @include core.grid-columns-2 {
      grid-template-areas:
        "motd motd"
        "quick-links quick-links"
        "main-feed github"
        "main-feed ."
        "main-feed .";

      #github_recent {
        overflow-y: visible;
        max-height: none;
        position: sticky;
        top: var(--space-4x);
      }
    }

    @include core.grid-columns-3 {
      grid-template-areas:
        ". motd ."
        "quick-links quick-links quick-links"
        ". main-feed github"
        ". main-feed ."
        ". main-feed .";
    }
  }
}
